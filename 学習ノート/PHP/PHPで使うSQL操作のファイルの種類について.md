#PHP

## ① migration（マイグレーション）
### 種別
- **DBの構造（スキーマ）を管理するためのファイル**
### 何をするもの？
- テーブル作成
- カラム追加・変更・削除
- インデックス追加 など
つまり  
👉 **「DBの設計図の変更履歴」**

---
### 例（イメージ）

```php
Schema::create('users', function (Blueprint $table) {
     $table->id();
     $table->string('name');
     $table->timestamps(); 
});
```

### いつ使う？
- 新しいテーブルを作るとき
- 既存テーブルにカラムを追加するとき
- 本番・検証・開発環境で**同じDB構造を再現したいとき**
### ポイント
- SQLを直接手で叩かない
- **Git管理できる**
- 「この変更をいつ入れたか」が追える
---
## ② Seeder（シーダー）
### 種別
- **DBに初期データ・テストデータを入れるためのファイル**
### 何をするもの？
- マスタデータ投入
- 開発・テスト用のダミーデータ作成
👉 **「DBの中身（データ）」を作る**
---
### 例（イメージ）
```php
DB::table('users')->insert([     'name' => 'テストユーザー', ]);
```
### いつ使う？
- 都道府県マスタ
- 管理者ユーザーの初期登録
- 開発環境でデータを一気に作りたいとき
### migrationとの違い

| 種類        | 役割                                 |
| --------- | ---------------------------------- |
| migration | テーブルの形を作る                          |
| seeder    | テーブルの中身を入れる(seederでテーブルを作成することはない) |

---
## ③ cron（クーロン）
### 種別
- **定期実行される処理（ジョブ）**
※ ファイルというより「**仕組み**」に近いです
---
### 何をするもの？
- 定期的にPHPスクリプトを実行する
- バッチ処理
👉 **「決まった時間に自動で動く処理」**
---
### 例（用途）
- 毎日0時にデータ集計
- 期限切れデータの削除
- メールの定期送信
- ステータス更新
---
### イメージ
```php
0 0 * * * php /path/to/script.php
```
これは  
👉 **毎日0時に script.php を実行**
### migration / seederとの関係
- migration：DB構造を作る（基本1回 or 必要時）
- seeder：初期データ投入（必要な時）
- cron：**運用中ずっと定期的に動く**
---
## まとめ（超重要）

|種別|何を管理？|目的|
|---|---|---|
|migration|DB構造|テーブル定義の履歴管理|
|seeder|DBデータ|初期・テストデータ投入|
|cron|実行タイミング|定期バッチ処理|

---
### 実務っぽい一言
- **migration = 設計**
- **seeder = 初期セットアップ**
- **cron = 運用**